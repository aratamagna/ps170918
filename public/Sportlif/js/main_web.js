// Generated by CoffeeScript 1.8.0
var sportlifeApp;

sportlifeApp = (function() {
  var blogJS, checkRUT, clasesJS, compra_ownerJS, compra_planJS, compra_resumenJS, compra_sedeJS, entrenaJS, homeJS, image, initJS, root, sedes, sedesJS, somosJS;
  root = window.location.origin + '/';
  sedes = window.location.origin + '/sedes/';
  image = window.location.origin + '/img/';
  initJS = function() {
    $('.btn_menu').click(function() {
      var button;
      button = void 0;
      button = $(this);
      if (button.parents('.navbar_link').find('.main_menu_mobile').hasClass('open')) {
        button.parents('.navbar_link').find('.main_menu_mobile').removeClass('open');
        button.parents('.navbar_link').find('.navbar_sportlife').animate({
          opacity: 1
        });
        button.parents('.navbar_link').find('.background').css('visibility', 'hidden').animate({
          opacity: 0
        });
      } else {
        button.parents('.navbar_link').find('.main_menu_mobile').addClass('open');
        button.parents('.navbar_link').find('.navbar_sportlife').animate({
          opacity: 0
        });
        button.parents('.navbar_link').find('.background').css('visibility', 'visible').animate({
          opacity: 1
        });
      }
    });
    $('.background').on('vmouseover', function() {
      var button;
      button = void 0;
      button = $('#navbar');
      button.find('.navbar_mobile .main_menu_mobile').removeClass('open');
      button.find('.navbar_link .navbar_sportlife').animate({
        opacity: 1
      });
      button.find('.navbar_link .background').css('visibility', 'hidden').animate({
        opacity: 0
      });
    });
    $('.open_sede').click(function() {
      var button;
      button = void 0;
      button = $(this);
      button.parent().find('.sede_selection').css('visibility', 'visible').animate({
        easing: 'easeInOutSine',
        opacity: 1
      });
    });
    $('.close_sede').click(function() {
      var button;
      button = void 0;
      button = $(this);
      button.parents('.sede_selection').animate({
        easing: 'easeInOutSine',
        opacity: 0
      }, function() {
        button.parents('.sede_selection').css('visibility', 'hidden');
      });
    });
    $(window).load(function() {
      $('#navbar .navbar_link .navbar_mobile .main_menu_mobile').height($('html').height());
      $('#navbar .navbar_link .navbar_mobile .background').height($('html').height());
    });
    $(window).on('orientationchange', function() {
      $('#navbar .navbar_link .navbar_mobile .main_menu_mobile').height($('html').height());
      $('#navbar .navbar_link .navbar_mobile .background').height($('html').height());
    });
    $('img').on('dragstart', function(event) {
      event.preventDefault();
    });
    $('img').waitForImages({
      finished: function() {
        $(this).attr('alt', '');
      },
      each: function() {},
      waitForAll: true
    });
    $('img:uncached').attr('alt', 'Cargando...');
  };
  homeJS = function() {
    $('#carousel_mobile_boxes').on('swipeleft', function() {
      var button;
      button = void 0;
      button = $(this);
      button.carousel('next');
    });
    $('#carousel_mobile_boxes').on('swiperight', function() {
      var button;
      button = void 0;
      button = $(this);
      button.carousel('prev');
    });
    $('input[name=\'rut\']').each(function() {
      var button;
      button = void 0;
      button = $(this);
      button.Rut({
        format_on: 'keyup',
        on_error: function() {
          button.removeClass("alert-success").addClass("alert-danger");
        },
        on_success: function() {
          button.removeClass("alert-danger").addClass("alert-success");
        }
      });
    });
  };
  somosJS = function() {
    $('.somos_menu_mobile').change(function() {
      var button;
      button = void 0;
      button = $(this);
      window.location.href = window.location.origin + button.val();
    });
  };
  blogJS = function() {
    $('.month').each(function() {
      var button, mes;
      button = void 0;
      mes = void 0;
      button = void 0;
      mes = void 0;
      button = $(this);
      mes = $(button).text();
      if (mes === 'January') {
        $(button).text('Enero');
      } else if (mes === 'February') {
        $(button).text('Febrero');
      } else if (mes === 'March') {
        $(button).text('Marzo');
      } else if (mes === 'April') {
        $(button).text('Abril');
      } else if (mes === 'May') {
        $(button).text('Mayo');
      } else if (mes === 'June') {
        $(button).text('Junio');
      } else if (mes === 'July') {
        $(button).text('Julio');
      } else if (mes === 'August') {
        $(button).text('Agosto');
      } else if (mes === 'September') {
        $(button).text('Septiembre');
      } else if (mes === 'October') {
        $(button).text('Octubre');
      } else if (mes === 'November') {
        $(button).text('Noviembre');
      } else {
        if (mes === 'December') {
          $(button).text('Diciembre');
        }
      }
    });
  };
  sedesJS = function() {
    $('.boxes .box').each(function() {
      var button, finalDate, selector;
      button = void 0;
      finalDate = void 0;
      selector = void 0;
      button = $(this);
      selector = button.find('.time');
      finalDate = selector.data('countdown');
      selector.countdown(finalDate, function(event) {
        selector.html(event.strftime('' + '<span class=\'hours\'>%H</span> ' + '<span class=\'dots\'>:</span> ' + '<span class=\'minutes\'>%M</span> ' + '<span class=\'seconds\'>%S</span>'));
      });
    });
    $('.margin_button_group .btn-clases').each(function() {
      $(this).on('click', function(event) {
        var button;
        button = void 0;
        event.preventDefault();
        button = $(this);
        if (button.attr('data-find') === '0') {
          $('.calendar').find('.table_class tr').each(function() {
            var find;
            find = void 0;
            find = $(this);
            find.find('span').animate({
              easing: 'easeInOutSine',
              opacity: 1
            });
          });
        } else {
          $('.calendar').find('.table_class tr').each(function() {
            var find;
            find = void 0;
            find = $(this);
            find.find('span').animate({
              easing: 'easeInOutSine',
              opacity: 1
            });
          });
          $('.calendar').find('.table_class tr').each(function() {
            var find;
            find = void 0;
            find = $(this);
            find.find('span').not('[data-id=\'' + button.attr('data-find') + '\']').animate({
              easing: 'easeInOutSine',
              opacity: 0
            });
          });
        }
      });
    });
    $('.margin_button_group .btn-tipo').each(function() {
      $(this).on('click', function(event) {
        var button;
        button = void 0;
        event.preventDefault();
        button = $(this);
        if (button.attr('data-find') === '0') {
          $('.calendar').find('.table_class tr').each(function() {
            var find;
            find = void 0;
            find = $(this);
            find.find('span').animate({
              easing: 'easeInOutSine',
              opacity: 1
            });
          });
        } else {
          $('.calendar').find('.table_class tr').each(function() {
            var find;
            find = void 0;
            find = $(this);
            find.find('span').animate({
              easing: 'easeInOutSine',
              opacity: 1
            });
          });
          $('.calendar').find('.table_class tr').each(function() {
            var find;
            find = void 0;
            find = $(this);
            find.find('span').not('[data-find=\'' + button.attr('data-find') + '\']').animate({
              easing: 'easeInOutSine',
              opacity: 0
            });
          });
        }
      });
    });
    $('.margin_button_group .day_week').on('click', 'button', function() {
      var button;
      button = void 0;
      button = $(this);
      button.parent().find('button').removeClass('active');
      button.addClass('active');
      if (button.attr('data-find') === 'day') {
        $('.calendar').find('.table_class tr').each(function() {
          var find;
          find = void 0;
          find = $(this);
          find.find('th, td').not('.' + button.attr('data-day')).animate({
            easing: 'easeInOutSine',
            opacity: 0
          });
        });
      } else if (button.attr('data-find') === 'week') {
        $('.calendar').find('.table_class tr').each(function() {
          var find;
          find = void 0;
          find = $(this);
          find.find('th, td').animate({
            easing: 'easeInOutSine',
            opacity: 1
          });
        });
      }
    });
  };
  clasesJS = function() {
    $(".btn-ok").on("click", function() {
      var button;
      button = $(this);
      button.parents("form").find("input[type='submit']").click();
    });
    $('.btn-view').each(function() {
      $(this).on('click', function() {
        var button, target, text;
        button = void 0;
        target = void 0;
        text = void 0;
        button = $(this);
        text = button.text();
        button.html('<i class=\'fa fa-spinner fa-spin\'></i>');
        target = $('#information_lesson');
        $.post(sedes + 'get_clase', {
          id: button.attr('data-id'),
          sede: button.attr('data-sede')
        }, function(response) {
          var json;
          json = $.parseJSON(response);
          target.find('.title').text(json[1].Clase.title);
          target.find('.image-centered img').attr('src', image + 'clases/' + json[1].Clase.image);
          target.find('.information').html(json[1].Clase.information);
        }).done(function() {
          target.modal('show');
          button.text(text);
        });
      });
    });
  };
  compra_sedeJS = function() {
    $('.btn-seleccion_sede').each(function() {
      $(this).on('click', function(event) {
        var button;
        button = void 0;
        event.preventDefault();
        button = $(this);
        button.parents('ul').find('.btn-seleccion_sede').removeClass('on');
        button.addClass('on');
        $('.btn-compra').removeAttr("onclick");
        $('.btn-compra').removeClass('off disabled btn-alert').addClass('on').attr('href', button.attr('href'));
      });
    });
  };
  compra_planJS = function() {
    $(".btn-selectPlan").on("click", function() {
      var button;
      button = $(this);
      $(".plan_information").find(".selector").removeClass("on");
      button.parents(".radio").addClass("on");
      $('.btn-compra').removeAttr("onclick");
      $('.btn-compra.pull-right').removeClass('off btn-alert').addClass('on').attr('href', button.attr('data-sede') + '/' + button.attr("data-plan"));
    });
    $('.plan_information').find('.selector input[type=\'radio\']').each(function() {
      $(this).click(function() {
        var button;
        button = $(this);
        $('.plan_information').find('.selector').removeClass('on');
        button.parents('.selector').addClass('on');
        $('.btn-compra').removeAttr("onclick");
        $('.btn-compra.pull-right').removeClass('off btn-alert').addClass('on').attr('href', button.attr('data-sede') + '/' + button.val());
      });
    });
  };
  compra_ownerJS = function() {
    $('.btn-compra.next').on('click', function(event) {
      var button;
      button = void 0;
      event.preventDefault();
      button = $(this);
      button.parents('.content').find('.tab-pane.active form input[type=\'submit\']').click();
    });
    checkRUT();
    $('.btn-own').each(function() {
      $(this).click(function() {
        var button;
        button = void 0;
        button = $(this);
        button.parents('.select').find('.btn').removeClass('active');
        button.addClass('active');
      });
    });
    $('.btn-add_student').click(function(event) {
      var button;
      button = void 0;
      event.preventDefault();
      button = $(this);
      button.parents('.boxes_students').append('<div class=\'box_student box_desing\'>' + '<div class=\'title\'>' + 'Datos Alumno' + '</div>' + '<div class=\'box\'>' + '<div class=\'form-group\'>' + '<div class=\'col-xs-12\'>' + '<div class=\'error text-center\'>' + '<span class=\'label\'></span>' + '</div>' + '</div>' + '</div>' + '<div class=\'form-group\'>' + '<label class=\'control-label col-xs-3\'>Nombre</label>' + '<div class=\'col-xs-9\'>' + '<input type=\'text\' class=\'form-control\' name=\'nombre_alu[]\' required />' + '</div>' + '</div>' + '<div class=\'form-group\'>' + '<label class=\'control-label col-xs-3\'>RUT</label>' + '<div class=\'col-xs-9\'>' + '<input type=\'text\' class=\'form-control\' name=\'rut_alu[]\' required />' + '</div>' + '</div>' + '<div class=\'form-group\'>' + '<label class=\'control-label col-xs-3\'>TelÃ©fono</label>' + '<div class=\'col-xs-9\'>' + '<input type=\'text\' class=\'form-control\' name=\'telefono_alu[]\' required />' + '</div>' + '</div>' + '<div class=\'form-group\'>' + '<label class=\'control-label col-xs-3\'>Email</label>' + '<div class=\'col-xs-9\'>' + '<input type=\'email\' class=\'form-control\' name=\'email_alu[]\' required />' + '</div>' + '</div>' + '</div>' + '</div>');
      checkRUT();
    });
  };
  checkRUT = function() {
    $('input[name=\'rut\'], input[name=\'rut_alu[]\']').each(function() {
      var button;
      button = void 0;
      button = $(this);
      button.Rut({
        format_on: 'keyup',
        on_error: function() {
          $('.btn-compra.next').removeClass('on').addClass('disabled off');
          button.parents('.box').find('.error .label').addClass('label-danger').text('RUT INCORRECTO');
        },
        on_success: function() {
          $('.btn-compra.next').removeClass('disabled off').addClass('on');
          $('.btn-compra').removeAttr("onclick");
          if (button.parents('.box').find('.error .label').hasClass('label-danger')) {
            button.parents('.box').find('.error .label').removeClass('label-danger').addClass('label-success').text('RUT CORRECTO');
          }
        }
      });
    });
  };
  compra_resumenJS = function() {
    $('.btn-servipag').click(function(event) {
      var button;
      event.preventDefault();
      button = $(this);
      $('.servipag').find('form input[type=\'submit\']').click();
    });
    $('.btn-webpay').click(function(event) {
      event.preventDefault();
      $('.webpay').find('form input[type=\'submit\']').click();
    });
    $("#checkCondiciones").on("click", function() {
      var button;
      button = $(this);
      if (button.is(":checked") && $("#checkAlumno").is(":checked")) {
        $(".btn-servipag").removeClass("disabled gray_scale");
        $(".btn-webpay").removeClass("disabled gray_scale").removeAttr("onclick");
      } else {
        $(".btn-servipag").addClass("disabled gray_scale");
        $(".btn-webpay").addClass("disabled gray_scale");
      }
    });
    $("#checkAlumno").on("click", function() {
      var button;
      button = $(this);
      if (button.is(":checked") && $("#checkCondiciones").is(":checked")) {
        $(".btn-servipag").removeClass("disabled gray_scale");
        $(".btn-webpay").removeClass("disabled gray_scale").removeAttr("onclick");
      } else {
        $(".btn-servipag").addClass("disabled gray_scale");
        $(".btn-webpay").addClass("disabled gray_scale").attr("onclick", "javascript:alert('Debes aceptar las \"Condiciones de Compra\" y el \"Reglamento del Alumno\"'); return false;");
      }
    });
  };
  entrenaJS = function() {
    $('input[name=\'rut\']').each(function() {
      var button;
      button = void 0;
      button = $(this);
      button.Rut({
        format_on: 'keyup',
        on_error: function() {
          $('.btn-compra.next').removeClass('on').addClass('disabled off');
          button.parents('.box').find('.error .label').addClass('label-danger').text('RUT INCORRECTO');
        },
        on_success: function() {
          $('.btn-compra.next').removeClass('disabled off').addClass('on');
          if (button.parents('.box').find('.error .label').hasClass('label-danger')) {
            button.parents('.box').find('.error .label').removeClass('label-danger').addClass('label-success').text('RUT CORRECTO');
          }
        }
      });
    });
    $('.btn-facebook').on('click', function(event) {
      event.preventDefault();
      $.ajaxSetup({
        cache: true
      });
      $.getScript('//connect.facebook.net/en_UK/all.js', function() {
        FB.init({
          appId: '716822791716808'
        });
        FB.ui({
          method: 'send',
          link: root + 'entrena'
        }, function(response) {
          console.log(response);
        });
      });
    });
  };
  return {
    init: function() {
      initJS();
    },
    home: function() {
      homeJS();
    },
    somos: function() {
      somosJS();
    },
    blog: function() {
      blogJS();
    },
    sedes: function() {
      sedesJS();
    },
    clases: function() {
      clasesJS();
    },
    compra_sede: function() {
      compra_sedeJS();
    },
    compra_plan: function() {
      compra_planJS();
    },
    compra_owner: function() {
      compra_ownerJS();
    },
    compra_resumen: function() {
      compra_resumenJS();
    },
    entrena: function() {
      entrenaJS();
    },
    RUT: function() {
      rutJS();
    }
  };
})(jQuery);

$(function() {
  sportlifeApp.init();
});

//# sourceMappingURL=main_web.js.map